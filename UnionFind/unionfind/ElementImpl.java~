package unionfind;
import unionfind.Element;

class ElementImpl implements Element {
    
    Element parent;
    final int name;
    int size;

    public int getName() { return name; }
    public int getSize() { return size; }
    public void setSize(int size) { this.size = size; }

    public Element getParent() { return this.parent; }
    public void setParent(Element e) { this.parent = e; }
    
    ElementImpl(int name) {
	this.parent = this;
	this.name = name;
	this.size = 1;
    }
    
    public Element findRoot() {
	Element e = this;
	while((e = e.getParent()) != this);
	return e;
    }
    
    public void union(Element other) {
	
	Element x = this.findRoot();
	Element y = other.findRoot();
	
	if(x == y) {
	    return;
	}
	
	if(x.getSize() < y.getSize()) {
	    Element temp = y;
	    y = x;
	    x = temp;
	}
	
	y.setParent(x);
	x.setSize(x.getSize() + y.getSize());
	
    }
}
